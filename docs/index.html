<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Force no caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Death Note: Justice Awaits</title>
    <link rel="stylesheet" href="./src/styles/main.css?v=1741368700">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="death-note-theme">
    <div id="app">
        <header class="app-header">
            <div class="logo">Death Note: Justice Awaits</div>
            <div class="user-info" id="userInfo"></div>
            <div class="language-switcher">
                <button id="langToggle" class="lang-button">üåê</button>
                <div id="langDropdown" class="lang-dropdown hide">
                    <button data-lang="en" class="lang-option">English</button>
                    <button data-lang="ru" class="lang-option">–†—É—Å—Å–∫–∏–π</button>
                    <button data-lang="de" class="lang-option">Deutsch</button>
                </div>
            </div>
        </header>
        
        <main id="mainContent" class="main-content">
            <div id="loading" class="loading-screen">
                <div class="death-note-loading">
                    <img src="./src/assets/images/death_note_cover.jpg" alt="Death Note" class="loading-image" id="loadingImage">
                    <p>The Death Note has chosen you...</p>
                </div>
            </div>
            
            <div id="languageScreen" class="screen hide">
                <h1 data-i18n="selectLanguage">Select Language</h1>
                <div class="language-buttons">
                    <button data-lang="en" class="lang-select-button">
                        <span class="flag">üá¨üáß</span>
                        <span class="lang-name">English</span>
                    </button>
                    <button data-lang="ru" class="lang-select-button">
                        <span class="flag">üá∑üá∫</span>
                        <span class="lang-name">–†—É—Å—Å–∫–∏–π</span>
                    </button>
                    <button data-lang="de" class="lang-select-button">
                        <span class="flag">üá©üá™</span>
                        <span class="lang-name">Deutsch</span>
                    </button>
                </div>
            </div>
            
            <div id="menuScreen" class="screen hide">
                <h1 data-i18n="welcomeTitle">Welcome, Kira</h1>
                <p class="intro-text" data-i18n="introText">You have found the Death Note. With its power, you can bring justice to the world.</p>
                <div class="menu-buttons">
                    <button id="startGameBtn" class="main-button" data-i18n="startGame">Start Justice</button>
                    <button id="rulesBtn" class="secondary-button" data-i18n="rules">Rules</button>
                    <button id="backToChatBtn" class="secondary-button" data-i18n="returnToRyuk">Return to Ryuk</button>
                </div>
            </div>
            
            <div id="gameScreen" class="screen hide">
                <div class="game-header">
                    <h2 id="caseTitle" data-i18n="caseTitle">Case #1: The Serial Killer</h2>
                    <div class="game-stats">
                        <span id="daysLeft" data-i18n="daysLeft">Days left: 5</span>
                        <span id="noteUses" data-i18n="noteUses">Death Note uses: 3</span>
                    </div>
                </div>
                
                <div class="game-content">
                    <div id="caseBoard" class="case-board">
                        <!-- Case content will be loaded here -->
                    </div>
                    
                    <div id="deathNotePanel" class="death-note-panel hide">
                        <div class="death-note-page">
                            <h3 data-i18n="deathNote">Death Note</h3>
                            <p class="note-rules" data-i18n="noteRules">The human whose name is written in this note shall die.</p>
                            <div class="name-input-area">
                                <input type="text" id="nameInput" data-i18n-placeholder="writeNameHere" placeholder="Write name here...">
                                <button id="writeNameBtn" data-i18n="write">Write</button>
                            </div>
                            <div id="writtenNames" class="written-names">
                                <!-- Names written in the Death Note will appear here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="game-controls">
                    <button id="viewEvidenceBtn" class="game-button" data-i18n="evidence">Evidence</button>
                    <button id="viewSuspectsBtn" class="game-button" data-i18n="suspects">Suspects</button>
                    <button id="useDeathNoteBtn" class="game-button" data-i18n="useDeathNote">Use Death Note</button>
                    <button id="solveBtn" class="game-button" data-i18n="solve">Solve Case</button>
                </div>
            </div>
            
            <div id="resultsScreen" class="screen hide">
                <h2 data-i18n="caseResults">Case Results</h2>
                <div id="resultsSummary" class="results-summary">
                    <!-- Results will be shown here -->
                </div>
                <div class="results-actions">
                    <button id="nextCaseBtn" class="main-button" data-i18n="nextCase">Next Case</button>
                    <button id="shareResultsBtn" class="secondary-button" data-i18n="shareResults">Share Results</button>
                    <button id="returnToMenuBtn" class="secondary-button" data-i18n="mainMenu">Main Menu</button>
                </div>
            </div>
            
            <div id="rulesScreen" class="screen hide">
                <h2 data-i18n="rulesOfDeathNote">Rules of the Death Note</h2>
                <div class="rules-content">
                    <ol class="rules-list">
                        <li data-i18n="rule1">The human whose name is written in this note shall die.</li>
                        <li data-i18n="rule2">This note will not take effect unless the writer has the person's face in mind when writing their name.</li>
                        <li data-i18n="rule3">If the cause of death is written within the next 40 seconds of writing the person's name, it will happen.</li>
                        <li data-i18n="rule4">If the cause of death is not specified, the person will simply die of a heart attack.</li>
                        <li data-i18n="rule5">After writing the cause of death, details of the death should be written in the next 6 minutes and 40 seconds.</li>
                    </ol>
                    <h3 data-i18n="gameRules">Game Rules</h3>
                    <ul class="game-rules-list">
                        <li data-i18n="gameRule1">Solve crimes by analyzing evidence and identifying suspects.</li>
                        <li data-i18n="gameRule2">Use the Death Note wisely - you have a limited number of uses.</li>
                        <li data-i18n="gameRule3">Writing an innocent person's name will lead to negative consequences.</li>
                        <li data-i18n="gameRule4">Each action consumes time - manage your days carefully.</li>
                        <li data-i18n="gameRule5">To win, you must solve all cases and eliminate all criminals.</li>
                    </ul>
                </div>
                <button id="backFromRulesBtn" class="secondary-button" data-i18n="back">Back</button>
            </div>
        </main>
        
        <footer class="app-footer">
            <p data-i18n="footer">Created by Ryuk ‚Ä¢ Light Yagami is watching</p>
        </footer>
    </div>
    
    <script src="./src/utils/i18n.js"></script>
    <script src="./src/utils/telegramApp.js"></script>
    <script src="./src/utils/gameLogic.js"></script>
    <script src="./src/index.js"></script>
</body>
</html> 